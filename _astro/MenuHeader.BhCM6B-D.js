import{i as a}from"./component-manager.modern.DSG18_2G.js";import{NarrowHeader as s}from"./NarrowHeader.DqmeIYaA.js";import{w as i}from"./waapi.BXiWwULC.js";import{c as n}from"./timeline.0vhVXiXF.js";import{s as l}from"./stagger.B2p9fBMh.js";import"./index.3whys8t3.js";import"./Scroll.BfhDHv6w.js";import"./scroll.thRy0ret.js";import"./index.K5Rn1T6c.js";import"./deviceStatus.BebISHRr.js";import"./stores.Bcb6ZYZM.js";import"./focus-trap.esm.ClxjYaXz.js";import"./targets.Ch0TkwgG.js";import"./parser.BX5Tv8gU.js";import"./timer.BnERl5BE.js";import"./animation.CYjtRj_b.js";import"./position.DOXOWIVY.js";class e extends HTMLElement{static DEFAULT_EASE=s.DEFAULT_EASE;static DEFAULT_DURATION=s.DEFAULT_DURATION;$inner;$tweenChild;openTimeline=null;closeTimeline=null;resizeObserver=null;isOpen=!1;constructor(){super(),this.$inner=this.querySelector("[data-menu-inner]"),this.$tweenChild=this.querySelectorAll("[data-tween-child]"),i.animate(this.$tweenChild,{opacity:0,scale:.9,duration:0})}connectedCallback(){this.bindEvents()}disconnectedCallback(){this.unbindEvents()}bindEvents(){this.resizeObserver=new ResizeObserver(this.onResize),this.resizeObserver.observe(this.$inner)}unbindEvents(){this.resizeObserver?.disconnect(),this.resizeObserver=null}onResize=()=>{if(!this.isOpen)return;const t=this.getNaturalHeight();this.style.height=`${t}px`};getNaturalHeight(){return this.$inner.offsetHeight}open(t=!1){this.isOpen=!0;const r=this.getNaturalHeight();return this.closeTimeline?.pause(),this.openTimeline=n({autoplay:!1,onBegin:()=>{this.style.visibility="visible"}}).sync(i.animate(this,{height:r,duration:t?0:e.DEFAULT_DURATION,ease:e.DEFAULT_EASE,autoplay:!1}),0).sync(i.animate(this.$tweenChild,{opacity:1,scale:1,duration:t?0:e.DEFAULT_DURATION*.65,autoplay:!1,ease:e.DEFAULT_EASE,delay:l(t?0:15)}),t?0:e.DEFAULT_DURATION*.3),this.openTimeline}close(t=!1){return this.isOpen=!1,this.openTimeline?.pause(),this.closeTimeline=n({autoplay:!1,onComplete:()=>{this.style.visibility="hidden",this.style.height="0"}}).sync(i.animate(this,{height:0,duration:t?0:e.DEFAULT_DURATION,ease:e.DEFAULT_EASE,autoplay:!1}),0).sync(i.animate(this.$tweenChild,{opacity:"0",scale:.9,duration:t?0:e.DEFAULT_DURATION*.65,ease:e.DEFAULT_EASE,delay:l(t?0:25,{from:"last"}),autoplay:!1}),0),this.closeTimeline}}customElements.define("c-menu-header",a(e,"MenuHeader"));export{e as MenuHeader};
