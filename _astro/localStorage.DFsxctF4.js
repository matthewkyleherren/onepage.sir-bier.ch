import{h as A}from"./string.5XGdusJV.js";import{a as C}from"./index.3whys8t3.js";function h(t,s){const l=s.split?s.split("."):s,i=l.length;for(let e=0;e<i-1;e++){const c=l[e];if(typeof t[c]!="object"||t[c]===null)return!1;t=t[c]}const o=l[i-1];return t&&o in t?(delete t[o],!0):!1}function I(t,s,l=null,i=0,o=void 0){const e=s.split?s.split("."):s;for(i=0;i<e.length;i++)t=t?t[e[i]]:o;return t===o?l:t}function E(t,s,l){if(l===void 0)return h(t,s),t;const i=s.split?s.split("."):s,o=i.length;for(let e=0;e<o-1;e++){const c=i[e];(typeof t[c]!="object"||t[c]===null)&&(t[c]={}),t=t[c]}return t[i[o-1]]=l,t}const S=!0,J="20260122-200701",g=new Map,v=JSON.parse,M=JSON.stringify,L=t=>t&&typeof t.subscribe=="function"&&typeof t.set=="function";function N(t,s=localStorage,l=M,i=v){const o=s,e=t;o.getItem(e)===null&&o.setItem(e,l({}));const c=i(o.getItem(e)||"{}");return{get id(){return e},get storage(){return o},get datas(){return c},sync:p,get:u,set:a,remove:m,clear:O,folder:d};function p(n,r,f=S){L(r)||(r=C(r)),f&&a(n,r.get());const $=u(n,r.get());return r.set($),r.subscribe(w=>a(n,w)),r}function a(n,r){E(c,n,r),o.setItem(e,l(c))}function u(n,r=null){return I(c,n,r)}function d(n){return n=n.toLowerCase(),u(n)||a(n,{}),{get id(){return`${e}.${n}`},get subId(){return n},get storage(){return o},get datas(){return I(c,n,{})},sync:(r,f,$=S)=>p(`${n}.${r}`,f,$),get:(r,f)=>u(`${n}.${r}`,f),set:(r,f)=>a(`${n}.${r}`,f),remove:r=>m(`${n}.${r}`),clear:()=>m(n),folder:r=>d(`${n}.${r}`)}}function m(n){try{h(c,n),o.setItem(e,l(c))}catch{}}function O(){o.removeItem(e)}}function P(t="dummy",s=localStorage,{encode:l=M,decode:i=v}={}){if(t=t.toLowerCase(),t+=A(t+J),g.has(t)&&g.get(t).storage===s)return g.get(t);const o=`__storage.${t}`,e=N(o,s,l,i);return g.set(t,e),e}const T="aupalevodka",D=P("locomotive:"+T);export{D as $};
